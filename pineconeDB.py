from pinecone.grpc import PineconeGRPC as Pinecone
from dotenv import load_dotenv
import os
from openAi import get_embeddings
import uuid

# buyer_queries = ['Q: What is Amazon EC2 Auto Scaling?',
#            'Q. When should I use Amazon EC2 Auto Scaling vs. AWS Auto Scaling?',
#            'Q: How is Predictive Scaling Policy different from Predictive Scaling of AWS Auto Scaling plan?',
#            'Q: What are the benefits of using Amazon EC2 Auto Scaling?',
#            'Q: What is fleet management and how is it different from dynamic scaling?',
#            'Q: What is target tracking?',
#            'Q: What is an EC2 Auto Scaling group (ASG)?',
#            'Q: What happens to my Amazon EC2 instances if I delete my ASG?',
#            'Q: How do I know when EC2 Auto Scaling is launching or terminating the EC2 instances in an EC2 Auto Scaling group?',
#            'Q: What is a launch configuration?',
#            'Q: How many instances can an EC2 Auto Scaling group have?',
#            'Q: What happens if a scaling activity causes me to reach my Amazon EC2 limit of instances?',
#            'Q: Can EC2 Auto Scaling groups span multiple AWS regions?',
#            'Q: How can I implement changes across multiple instances in an EC2 Auto Scaling group?',
#            'Q: If I have data installed in an EC2 Auto Scaling group, and a new instance is dynamically created later, is the data copied over to the new instances?',
#            'Q: When I create an EC2 Auto Scaling group from an existing instance, does it create a new AMI (Amazon Machine Image)?',
#            'Q: How does Amazon EC2 Auto Scaling balance capacity?',
#            'Q: What are lifecycle hooks?',
#            'Q: What are the characteristics of an “unhealthy” instance?',
#            'Q: Can I customize a health check?',
#            'Q: Can I suspend health checks (for example, to evaluate unhealthy instances)?',
#            'Q: Which health check type should I select?',
#            'Q: Can I use Amazon EC2 Auto Scaling for health checks and to replace unhealthy instances if I’m not using Elastic Load Balancing (ELB)?',
#            'Q: Do the Elastic Load Balancing (ELB) health checks work with Application Load Balancers and Network Load Balancers? Will an instance be marked as unhealthy if any target group associated with it becomes unhealthy?',
#            'Q: Is there any way to use Amazon EC2 Auto Scaling to only add a volume without adding an instance?',
#            'Q: What does the term “stateful instances” refer to?',
#            'Q: How does Amazon EC2 Auto Scaling replace an impaired instance?',
#            'Q: How do I control which instances Amazon EC2 Auto Scaling terminates when scaling in, and how do I protect data on an instance?',
#            'Q: How long is the turn-around time for Amazon EC2 Auto Scaling to spin up a new instance at inService state after detecting an unhealthy server?',
#            'Q: If Elastic Load Balancing (ELB) determines that an instance is unhealthy, and moved offline, will the previous requests sent to the failed instance be queued and rerouted to other instances within the group?',
#            'Q: If you don’t use Elastic Load Balancing (ELB) how would users be directed to the other servers in a group if there was a failure?',
#            'Q: How do I control access to Amazon EC2 Auto Scaling resources?',
#            'Q: Can you define a default admin password on Windows instances with Amazon EC2 Auto Scaling?',
#            'Q: Are CloudWatch agents automatically installed on EC2 instances when you create an Amazon EC2 Auto Scaling group?',
#            'Q: Can I create a single ASG to scale instances across different purchase options?',
#            'Q: Can I use ASGs to launch and manage just Spot Instances or just On-Demand instances and RIs?',
#            'Q: Can I have a base capacity with On-Demand instances and RIs, and scale my ASG out on Spot instances?',
#            'Q: Can I modify the configuration of an ASG to update the different properties pertaining to combining purchasing models and specifying multiple instance types?',
#            'Q: Can I use RI discounts with On-Demand Instances in an ASG?',
#            'Q: Can I specify instances of different sizes (CPU cores, memory) in my Auto Scaling group?',
#            'Q: What if the instance types I like are not available in an Availability Zone?',
#            'Q: What are the costs for using Amazon EC2 Auto Scaling?', 'How to change quantity of orders in the cart', 'How to place orders in Amazon', 'How to place Bulk Orders?', 'Why am I unable to place orders?', 'What is Cash on Delivery?', 'How to place gift orders?', 'How to change the payment method?', 'How to Update Delivery instructions?', 'Can I change or modify orders that are already placed?', 'I ordered a wrong item. How can I stop the order?', 'How to cancel orders?', 'How can I order the same items again?', 'How to track orders?',     "Why did my payment fail on Amazon.in?",
#     "What should I do if I entered incorrect credit or debit card details?",
#     "How can I update my card details on Amazon.in?",
#     "What should I do if there is a technical problem with my bank during payment?",
#     "Why is my card blocked from making online transactions?",
#     "What should I do if I use a card that is not accepted by Amazon.in?",
#     "How can I save my credit or debit card details on Amazon.in as per new RBI guidelines?",
#     "Why did I receive a payment pending message?",
#     "What should I do if there is a problem contacting my bank or credit card issuer?",
#     "What should I do if my payment is incomplete?",
# 'What is Amazon Elastic Container Registry (Amazon ECR)?', 'Why should I use Amazon ECR?', ' Is Amazon ECR a global service?', 'How does Amazon ECR help ensure that container images are secure?', 'How can I get started with Amazon EC2?', 'What can developers now do that they could not before?', 'Are there any limitations in sending email from Amazon EC2 instances?', 'How do I load and store my systems with Amazon EC2?', 'What is the difference between using the local instance store and Amazon Elastic Block Store (Amazon EBS) for the root device?', 'What operating system environments are supported for Amazon EC@ services?', 'What is AWS Lambda?', 'What is serverless computing?', 'When should I use AWS Lambda versus Amazon EC2?', 'how to set up aws lambda for my project?', 'What languages does AWS Lambda support?', 'How does AWS Lambda isolate my code?', ' How does AWS Lambda secure my code?', ' What AWS regions are available for AWS Lambda?', 'Why must AWS Lambda functions be stateless?', 'What restrictions apply to AWS Lambda function code?',
# 'How to change quantity of orders in the cart', 'How to place orders in Amazon', 'How to place Bulk Orders?', 'Why am I unable to place orders?', 'What is Cash on Delivery?', 'How to place gift orders?', 'How to change the payment method?', 'How to Update Delivery instructions?', 'Can I change or modify orders that are already placed?', 'I ordered a wrong item. How can I stop the order?', 'How to cancel orders?', 'How can I order the same items again?', 'How to track orders?',     "Why did my payment fail on Amazon.in?",
#     "What should I do if I entered incorrect credit or debit card details?",
#     "How can I update my card details on Amazon.in?",
#     "What should I do if there is a technical problem with my bank during payment?",
#     "Why is my card blocked from making online transactions?",
#     "What should I do if I use a card that is not accepted by Amazon.in?",
#     "How can I save my credit or debit card details on Amazon.in as per new RBI guidelines?",
#     "Why did I receive a payment pending message?",
#     "What should I do if there is a problem contacting my bank or credit card issuer?",
#     "What should I do if my payment is incomplete?",
# 'Amazon Prime and Prime Lite Membership Benefits', 'Amazon Prime and Prime Lite Membership Benefits', 'What is Prime Shopping Edition?', 'How can I sign up for Prime Shopping Edition?', 'What are the eligible payment methods to purchase Prime Shopping Edition?', 'Will Prime Shopping edition be auto-renewed?', 'Can I cancel Prime Shopping Edition? Will I receive a refund?', 'Can I upgrade my Prime Shopping Edition membership to a different plan that offers additional benefits?', "What are the delivery benefits of Amazon Prime for eligible items?",
#     "How can Prime members identify Prime eligible items on Amazon?",
#     "What are Prime Promo Codes?",
#     "Which partners/companies provide Prime Promo Codes today?",
#     "How do I activate my Promo code?",
#     "Are existing Prime members also eligible for this offer?",
#     "My PPC is not working; who should I contact?",
#     "I lost my PPC; who should I contact?",
#     "Is the Prime offer applicable to Business accounts?",
#     "Why is my payment failing?",
#     "What are the shipping benefits of Amazon Prime?",
# "How to signup for amazon prime",
# "How to End Your Amazon Prime Membership",
# "What is the price of Prime membership?",
# 'What are the return guidelines?', 'What are the return guidelines?', 'How can I return a Gift?', 'How can I return a Gift Card?', 'Can my order be replaced?', 'I want the replacement to a different address.', ' What qualifies as damaged/ defective/ wrong products?', 'What to do if you receive a damaged, defective or wrong product?', 'How to return a damaged, wrong product?', 'How will the refunded money be credited?', ' What is the time window for initiating a replacement?', ' How to replace a damaged product?', 'What to do if renewed products are damaged?',    "What is the refund process for returned orders on Amazon?",
#     "How can I check the status of my refund?",
#     "What are the refund timelines for prepaid orders?",
#     "What are the refund timelines for Pay on Delivery orders?",
#     "What should I do if my refund is not showing up in my credit card statement?",
#     "How do I add or update my bank account details for refunds?",
#     "What is the process for refunds on seller fulfilled orders?",
#     "What is Amazon's A-to-Z Guarantee for seller fulfilled orders?",
#     "What is the refund process for Amazon Pay Later?",
#     "What is the refund process for products purchased with EMI plans?",
#     "What are the refund timelines for FBA orders?",
# "What are the refund timelines for seller fulfilled orders?",
# "What are the refund timelines for prepaid orders using Amazon Pay Balance?",
# "What are the refund timelines for prepaid orders using Credit Card/Debit Card?",
#  "What are the refund timelines for prepaid orders using Net Banking?",
#  "What are the refund timelines for prepaid orders using UPI linked bank account?",
# "What are the refund timelines for pay on delivery orders using NEFT to Bank Account?",
# "What are the refund timelines for pay on delivery orders using Amazon Pay Balance?",
#  "What are the refund timelines for pay on delivery orders using Paper Check?",
#  "How can I update my bank account details for receiving refunds?",
# "How are refunds processed for international customers?",
#  "How are refunds processed if the credit/debit card used is no longer active or has expired?",
# "What is the process for refunds for damaged/defective items in seller fulfilled orders?",
#  "How are shipping cost refunds processed for Fulfilled by Amazon and Prime eligible items?",
#     "What are the requirements for a successful refund pickup?",
#     "What should I do if the pickup is not completed on the scheduled day?",
#     "Do some carriers require a return label for pickup?",
#     "What happens if the pickup is canceled due to missing or damaged items or accessories?",
#     "Can Amazon reschedule a pickup for a third-party (marketplace) seller?",
#     "Is it possible to pick up the return from a new address in a different city?",
#     "What should I do if I've received a damaged, defective, or incorrect item?",
#     "What should I do if I encounter issues while requesting a refund pickup?",
#     "What are the guidelines for self-shipping a return?"
# ]
#
# buyer_responses = ['Amazon EC2 Auto Scaling is a fully managed service designed to launch or terminate Amazon EC2 instances automatically to help ensure you have the correct number of Amazon EC2 instances available to handle the load for your application. Amazon EC2 Auto Scaling helps you maintain application availability through fleet management for EC2 instances, which detects and replaces unhealthy instances, and by scaling your Amazon EC2 capacity up or down automatically according to conditions you define. You can use Amazon EC2 Auto Scaling to automatically increase the number of Amazon EC2 instances during demand spikes to maintain performance and decrease capacity during lulls to reduce costs.',
#              'You should use AWS Auto Scaling to manage scaling for multiple resources across multiple services. AWS Auto Scaling lets you define dynamic scaling policies for multiple EC2 Auto Scaling groups or other resources using predefined scaling strategies. Using AWS Auto Scaling to configure scaling policies for all of the scalable resources in your application is faster than managing scaling policies for each resource via its individual service console. It’s also easier, as AWS Auto Scaling includes predefined scaling strategies that simplify the setup of scaling policies. You should use EC2 Auto Scaling if you only need to scale Amazon EC2 Auto Scaling groups, or if you are only interested in maintaining the health of your EC2 fleet. You should also use EC2 Auto Scaling if you need to create or configure Amazon EC2 Auto Scaling groups, or if you need to set up scheduled or step scaling policies (as AWS Auto Scaling supports only target tracking scaling policies).EC2 Auto Scaling groups must be created and configured outside of AWS Auto Scaling, such as through the EC2 console, Auto Scaling API or via CloudFormation. AWS Auto Scaling can help you configure dynamic scaling policies for your existing EC2 Auto Scaling groups.',
#              'Predictive Scaling Policy brings the similar prediction algorithm offered through AWS Auto Scaling plan as a native scaling policy in EC2 Auto Scaling. You can use predictive scaling directly through AWS Command Line Interface (CLI), EC2 Auto Scaling Management Console, and AWS SDKs similar to how you use other scaling policies, such as Simple Scaling or Target Tracking etc. You don’t have to create an AWS Auto Scaling plan just for using predictive scaling.  ',
#              'Amazon EC2 Auto Scaling helps to maintain your Amazon EC2 instance availability. Whether you are running one Amazon EC2 instance or thousands, you can use Amazon EC2 Auto Scaling to detect impaired Amazon EC2 instances, and replace the instances without intervention. This ensures that your application has the compute capacity that you expect. You can use Amazon EC2 Auto Scaling to automatically scale your Amazon EC2 fleet by following the demand curve for your applications, reducing the need to manually provision Amazon EC2 capacity in advance. For example, you can set a condition to add new Amazon EC2 instances in increments to the ASG when the average utilization of your Amazon EC2 fleet is high; and similarly, you can set a condition to remove instances in increments when CPU utilization is low. You can also use Amazon CloudWatch to send alarms to trigger scaling activities and Elastic Load Balancing (ELB) to distribute traffic to your instances within the ASG. If you have predictable load changes, you can use Predictive Scaling policy to proactively increase capacity ahead of upcoming demand. Amazon EC2 Auto Scaling enables you to run your Amazon EC2 fleet at optimal utilization.',
#              'If your application runs on Amazon EC2 instances, then you have what’s referred to as a ‘fleet’. Fleet management refers to the functionality that automatically replaces unhealthy instances and maintains your fleet at the desired capacity. Amazon EC2 Auto Scaling fleet management ensures that your application is able to receive traffic and that the instances themselves are working properly. When Auto Scaling detects a failed health check, it can replace the instance automatically.The dynamic scaling capabilities of Amazon EC2 Auto Scaling refers to the functionality that automatically increases or decreases capacity based on load or other metrics. For example, if your CPU spikes above 80% (and you have an alarm setup) Amazon EC2 Auto Scaling can add a new instance dynamically.',
#              'Target tracking is a new type of scaling policy that you can use to set up dynamic scaling for your application in just a few simple steps. With target tracking, you select a load metric for your application, such as CPU utilization or request count, set the target value, and Amazon EC2 Auto Scaling adjusts the number of EC2 instances in your ASG as needed to maintain that target. It acts like a home thermostat, automatically adjusting the system to keep the environment at your desired temperature. For example, you can configure target tracking to keep CPU utilization for your fleet of web servers at 50%. From there, Amazon EC2 Auto Scaling launches or terminates EC2 instances as required to keep the average CPU utilization at 50%.',
#              'An Amazon EC2 Auto Scaling group (ASG) contains a collection of EC2 instances that share similar characteristics and are treated as a logical grouping for the purposes of fleet management and dynamic scaling. For example, if a single application operates across multiple instances, you might want to increase the number of instances in that group to improve the performance of the application, or decrease the number of instances to reduce costs when demand is low. Amazon EC2 Auto Scaling will automaticallly adjust the number of instances in the group to maintain a fixed number of instances even if a instance becomes unhealthy, or based on criteria that you specify. You can find more information about ASG in the Amazon EC2 Auto Scaling User Guide.',
#              'If you have an EC2 Auto Scaling group (ASG) with running instances and you choose to delete the ASG, the instances will be terminated and the ASG will be deleted.',
#              'When you use Amazon EC2 Auto Scaling to scale your applications automatically, it is useful to know when EC2 Auto Scaling is launching or terminating the EC2 instances in your EC2 Auto Scaling group. Amazon SNS coordinates and manages the delivery or sending of notifications to subscribing clients or endpoints. You can configure EC2 Auto Scaling to send an SNS notification whenever your EC2 Auto Scaling group scales. Amazon SNS can deliver notifications as HTTP or HTTPS POST, email (SMTP, either plain-text or in JSON format), or as a message posted to an Amazon SQS queue. For example, if you configure your EC2 Auto Scaling group to use the autoscaling: EC2_INSTANCE_TERMINATE notification type, and your EC2 Auto Scaling group terminates an instance, it sends an email notification. This email contains the details of the terminated instance, such as the instance ID and the reason that the instance was terminated.\n\nFor more information read Getting SNS Notifications when your EC2 Auto Scaling Group Scales.',
#              "A launch configuration is a template that an EC2 Auto Scaling group uses to launch EC2 instances. When you create a launch configuration, you specify information for the instances such as the ID of the Amazon Machine Image (AMI), the instance type, a key pair, one or more security groups, and a block device mapping. If you've launched an EC2 instance before, you specified the same information in order to launch the instance. When you create an EC2 Auto Scaling group, you must specify a launch configuration. You can specify your launch configuration with multiple EC2 Auto Scaling groups. However, you can only specify one launch configuration for an EC2 Auto Scaling group at a time, and you can't modify a launch configuration after you've created it. Therefore, if you want to change the launch configuration for your EC2 Auto Scaling group, you must create a launch configuration and then update your EC2 Auto Scaling group with the new launch configuration. When you change the launch configuration for your EC2 Auto Scaling group, any new instances are launched using the new configuration parameters, but existing instances are not affected. You can see the launch configurations section of the EC2 Auto Scaling User Guide for more details.",
#              'You can have as many instances in your EC2 Auto Scaling group as your EC2 quota allows.',
#              'Amazon EC2 Auto Scaling cannot scale past the Amazon EC2 limit of instances that you can run. If you need more Amazon EC2 instances, complete the Amazon EC2 instance request form.',
#              'EC2 Auto Scaling groups are regional constructs. They can span Availability Zones, but not AWS regions.',
#              'You can use AWS CodeDeploy or CloudFormation to orchestrate code changes to multiple instances in your EC2 Auto Scaling group.',
#              'Data is not automatically copied from existing instances to new instances. You can use lifecycle hooks to copy the data, or an Amazon RDS database including replicas.',
#              'When you create an Auto Scaling group from an existing instance, it does not create a new AMI. For more information see Creating an Auto Scaling Group Using an EC2 Instance.',
#              'Balancing resources across Availability Zones is a best practice for well-architected applications, as this greatly increases aggregate system availability. Amazon EC2 Auto Scaling automatically balances EC2 instances across zones when you configure multiple zones in your EC2 Auto Scaling group settings. Amazon EC2 Auto Scaling always launches new instances such that they are balanced between zones as evenly as possible across the entire fleet. What’s more, Amazon EC2 Auto Scaling only launches into Availability Zones in which there is available capacity for the requested instance type.',
#              'Lifecycle hooks let you take action before an instance goes into service or before it gets terminated. This can be especially useful if you are not baking your software environment into an Amazon Machine Image (AMI). For example, launch hooks can perform software configuration on an instance to ensure that it’s fully prepared to handle traffic before Amazon EC2 Auto Scaling proceeds to connect it to your load balancer. One way to do this is by connecting the launch hook to an AWS Lambda function that invokes RunCommand on the instance. Terminate hooks can be useful for collecting important data from an instance before it goes away. For example, you could use a terminate hook to preserve your fleet’s log files by copying them to an Amazon S3 bucket when instances go out of service.Visit lifecycle hooks in our Amazon EC2 Auto Scaling User Guide for more information.',
#              'An unhealthy instance is one where the hardware has become impaired for some reason (bad disk, etc.), or it is not passing a user-configured ELB health check. Amazon EC2 Auto Scaling performs health checks on each individual EC2 instance at regular intervals, and if the instance is connected to an Elastic Load Balancing load balancer, it can also perform ELB health checks.',
#              "Yes, there is an API called SetInstanceHealth that allows you to change an instance's state to UNHEALTHY, which will then result in a termination and replacement.",
#              'Yes, you can temporarily suspend Amazon EC2 Auto Scaling health checks by using the SuspendProcesses API. You can use the ResumeProcesses API to resume automatic health checks.',
#              'If you are using Elastic Load Balancing (ELB) with your group, you should select an ELB health check. If you’re not using ELB with your group, you should select the EC2 health check.',
#              "You don't have to use ELB to use Auto Scaling. You can use the EC2 health check to identify and replace unhealthy instances.",
#              'Yes, Amazon EC2 Auto Scaling works with Application Load Balancers and Network Load Balancers including their health check feature.',
#              "A volume is attached to a new instance when it is added. Amazon EC2 Auto Scaling doesn't automatically add a volume when the existing one is approaching capacity. You can use the EC2 API to add a volume to an existing instance.",
#              'When we refer to a stateful instance, we mean an instance that has data on it, which exists only on that instance. In general, terminating a stateful instance means that the data (or state information) on the instance is lost. You may want to consider using lifecycle hooks to copy the data off of a stateful instance before it’s terminated, or enable instance protection to prevent Amazon EC2 Auto Scaling from terminating it.',
#              'When an impaired instance fails a health check, Amazon EC2 Auto Scaling automatically terminates it and replaces it with a new one. If you’re using an Elastic Load Balancing load balancer, Amazon EC2 Auto Scaling gracefully detaches the impaired instance from the load balancer before provisioning a new one and attaching it to the load balancer. This is all done automatically, so you don’t need to respond manually when an instance needs replacing.',
#              'With each Amazon EC2 Auto Scaling group, you control when Amazon EC2 Auto Scaling adds instances (referred to as scaling out) or remove instances (referred to as scaling in) from your group. You can scale the size of your group manually by attaching and detaching instances, or you can automate the process through the use of a scaling policy. When you have Amazon EC2 Auto Scaling automatically scale in, you must decide which instances Amazon EC2 Auto Scaling should terminate first. You can configure this through the use of a termination policy. You can also use instance protection to prevent Amazon EC2 Auto Scaling from selecting specific instances for termination when scaling in. If you have data on an instance, and you need that data to be persistent even if your instance is scaled in, then you can use a service like S3, RDS, or DynamoDB, to make sure that it is stored off the instance.',
#              'The turnaround time is within minutes. The majority of replacements happen within less than 5 minutes, and on average it is significantly less than 5 minutes. It depends on a variety of factors, including how long it takes to boot up the AMI of your instance.',
#              'When ELB notices that the instance is unhealthy, it will stop routing requests to it. However, prior to discovering that the instance is unhealthy, some requests to that instance will fail.',
#              'You can integrate with Route53 (which Amazon EC2 Auto Scaling does not currently support out of the box, but many customers use). You can also use your own reverse proxy, or for internal microservices, can use service discovery solutions.',
#              'Amazon EC2 Auto Scaling integrates with AWS Identity and Access Management (IAM), a service that enables you to do the following:For example, you could create an IAM policy that grants the Managers group permission to use only the DescribeAutoScalingGroups, DescribeLaunchConfigurations, DescribeScalingActivities, and DescribePolicies API operations. Users in the Managers group could then use those operations with any Amazon EC2 Auto Scaling groups and launch configurations. With Amazon EC2 Auto Scaling resource-level permissions, you can restrict access to a particular EC2 Auto Scaling group or launch configuration.For more information, see the Controlling Access to Your Auto Scaling Resources section of the Amazon EC2 Auto Scaling user guide.',
#              'You can use the Key Name parameter to CreateLaunchConfiguration to associate a key pair with your instance. You can then use the GetPasswordData API in EC2. This is also possible through the AWS Management Console.',
#              'If your AMI contains a CloudWatch agent, it’s automatically installed on EC2 instances when you create an EC2 Auto Scaling group. With the stock Amazon Linux AMI, you need to install it (recommended, via yum).',
#              'Yes. You can provision and automatically scale EC2 capacity across different EC2 instance types, Availability Zones, and On-Demand, RIs and Spot purchase options in a single Auto Scaling Group. You have the option to define the desired split between On-Demand and Spot capacity, select which instance types work for your application, and specify preference for how EC2 Auto Scaling should distribute the ASG capacity within each purchasing model.',
#              'Yes. You can configure your ASG specifying all capacity to be only Spot instances or all capacity to be only On-Demand instances and RIs.',
#              'Yes. When setting up an ASG to combine purchasing models, you can specify the base capacity of the group to be fulfilled by On-Demand instances. As the ASG scales in or scale out, EC2 Auto Scaling ensures the base capacity be fulfilled with On-Demand instances and anything beyond that be fulfilled with either only Spot instances or a specified percentage mix of On-Demand or Spot instances.',
#              'Yes. Similar to other ASG parameters, customers can update an existing ASG to modify one or all parameters pertaining to combining purchasing models and specifying multiple instance types, including instance types, prioritization order for On-Demand instances, percentage split between On-Demand and Spot instances, and allocation strategy.',
#              'Yes. For example, if you have RIs for C4 instances and EC2 Auto Scaling launches a C4 you will receive your RI pricing for On-Demand Instances.',
#              'Yes. You can specify any instance type available in a region. Additionally, you can specify an optional weight for each instance type, which defines the capacity units that each instance would contribute to your application’s performance.',
#              'If none of the specified instance types are available in an Availability Zone, Auto Scaling will retarget the launches in other Availability Zones associated with the Auto Scaling group. Auto Scaling will always prefer keeping your compute balanced across Availability Zones and retarget if all instance types are not available in an Availability Zone.',
#              'Amazon EC2 Auto Scaling fleet managment for EC2 instances carries no additional fees. The dynamic scaling capabilities of Amazon EC2 Auto Scaling are enabled by Amazon CloudWatch and also carry no additional fees. Amazon EC2 and Amazon CloudWatch service fees apply and are billed separately.', 'To change the quantity for items you have not yet added to the cart -  Once you click on the "Add to Cart" button and add the item to your shopping cart, enter the desired quantity in the "Quantity" dropdown option on the right side of the page.  To change the quantity for items already added to the cart -  Go to Cart, click on the quantity dropdown box to the right of the title and choose the desired quantity. The quantity number for the item and order amount will be updated automatically.  If the entered quantity is not available with us, you\'ll see an error message.', 'To begin ordering, you may visit the Amazon website on your desktop or mobile browser. If you are using an Android phone, you may download and install the Amazon Shopping app here to place an order.  If you are using an iPhone, you may download the Amazon shopping app here to place an order.  Steps to place an order:  Select the items which you want to order. Add those items to your “Shopping Cart”. After reviewing your shopping cart, click on “Proceed to Checkout”. You’ll be prompted to sign in to Amazon.in account, you can sign in using your mobile number or email address if you already have an account. If you’re a new customer, click on “I am a new customer” option on the sign in page to create a new account. Enter the address where you want to receive your order/select the Pickup store as per the availability by searching in the available criteria. If it a gift for someone/ if you want your order to be gift wrapped, then select gift-wrap option and include a gift message. Select the payment method, add the details and click on “Continue”. Review your order and click on “Place your Order” button and Pay to complete the transaction.', 'You can bulk order new products from Amazon Business. To order, select the following link:https://www.amazon.in/ab/bulk-order/  You can also access Bulk Ordering by hovering over your Account for Business menu and selecting Bulk Ordering from the drop-down menu. Enter the ISBNs or ASINs into the online form, or download a copy of the form to fill out and upload later.  Amazon Business offers the option to bulk buy products for business customers at no extra cost. You can also get an option of quantity discount.', 'This could be due to the following issues:  Check if there is a Payment decline. Please click here to know more about Payment issues. The item you have selected is out of stock. There is some technical or internet connectivity issue. Undeliverable to selected location/pincode.  Check if there is a quantity limit. Sometimes when FBA and seller fulfilled items are clubbed together', "Cash on Delivery is one of the payment methods for making purchases on Amazon.in. When you select Cash on Delivery as your payment method, you don't have to make any advance payment. You pay for your order only when you receive it. Click here to know more about Cash on Delivery.", 'You can choose to gift-wrap any item from your shopping cart as long as it is fulfilled by Amazon. To do this, check the This will be a gift box next to the item that you want gift-wrapped. Alternatively, check the box next to Ordering a gift? during checkout. The gift options show on the Delivery & Payment page.  Products eligible for this service can be gift wrapped for just ₹30.  Visit Gift Order to know more', 'You can add or update your payment methods by selecting the payments options section in Your Account. To manage payment methods, click here.', "Tell us what you'd like us to do with your parcel if you're not at home to receive it. Your delivery instructions can be accessed in multiple locations:  Your address book. The checkout process Your order confirmation page The progress tracker Select update delivery instructions under your delivery address, if this option is available. A window appears. update your delivery instructions and select Save instructions.  Note: We try to honour your delivery instructions whenever possible. However, we can't always guarantee that our carriers can meet these requests.", "You would not be able to change or modify the number of items once you have already placed an order. You can place another fresh order with the desired modifications. However, you can change your shipping preferences in Your Account at any time after placing your order as long as the order hasn't entered the shipping process yet.", 'If you have ordered a wrong item, you can cancel the order. In case, the order is already shipped and out for delivery, you can return the order. Click on Returns and Refund FAQ for more information.', "You can cancel items or orders by visiting the Your Orders section in Your Account.  To cancel orders that aren't dispatched yet:  Go to Your Orders. Select the item you want to cancel and click Cancel items. Provide reasons for cancellation (optional). Click on Cancel Checked Items. To cancel an order that has already been dispatched: Go to Your Orders. Select the Request cancellation option and proceed further. The item(s) will be returned to us for a refund (if the payment is already made). Note: In case you're still contacted for delivery, please refuse to accept it.", 'Follow the steps below to order an item again -  Go to Your Orders. Click on the Buy Again Tab. You will see a list of items you had previously purchased. Add to Cart the items you wish to purchase again. Go to the cart and follow the onscreen instruction to complete the order. Note: Items that are returned will not be displayed in the Buy Again tab.', 'The products ordered by you on Amazon.in are delivered in following ways:  Amazon fulfilled delivery Seller fulfilled delivery Delivery by third party carriers',     "Payments on Amazon.in may fail due to various reasons, such as incorrect card details, technical issues with your bank, or a blocked card for online transactions.",
#
#     "If you entered incorrect credit or debit card details, ensure your card name, number, CVV, expiry date, and billing address zip code (for American Express cards) are correct. Update your card details if necessary.",
#
#     "You can update your card details on Amazon.in by going to 'Your Account' > 'Payment options' and selecting 'Edit' next to the card you want to update.",
#
#     "If there is a technical problem with your bank during payment, please retry the transaction later or contact your bank for assistance.",
#
#     "Your card may be blocked from making online transactions by your bank. Contact your bank to resolve the issue or use a different card.",
#
#     "If you use a card that is not accepted by Amazon.in, consider using an accepted payment method listed on the Amazon website.",
#
#     "To save your credit or debit card details on Amazon.in as per new RBI guidelines, add your card details, select the 'Save card as per new RBI issued guidelines' checkbox, and make a successful payment with this card.",
#
#     "You may receive a payment pending message if we are waiting for payment verification from your bank, especially if paid through net banking. Contact your bank for immediate status updates.",
#
#     "If there is a problem contacting your bank or credit card issuer, delays in payment processing may occur. Check your email for updates from Amazon.",
#
#     "If your initial payment attempt is unsuccessful, your payment may remain incomplete or pending. Please follow the instructions in the email notification from Amazon to complete the payment or place a new order.",
# 'Amazon ECR is a fully managed container registry that makes it easy for developers to share and deploy container images and artifacts. Amazon ECR is integrated with Amazon Elastic Container Service (Amazon ECS),  Amazon Elastic Kubernetes Service (Amazon EKS), and AWS Lambda, simplifying your development to production workflow. Amazon ECR eliminates the need to operate your own container repositories or worry about scaling the underlying infrastructure. Amazon ECR hosts your images in a highly available and scalable architecture, allowing you to deploy containers for your applications reliably. Integration with AWS Identity and Access Management (IAM) provides resource-level control of each repository that lets you share images across your organization or with anyone in the world.', 'Amazon ECR eliminates the need to operate and scale the infrastructure required to power your container registry. Amazon ECR uses Amazon Simple Storage Service (S3) for storage to make your container images highly available and accessible, allowing you to deploy new containers for your applications reliably. Amazon ECR transfers your container images over HTTPS and automatically encrypts your images at rest. You can configure policies to manage permissions for each repository and restrict access to IAM users, roles, or other AWS accounts. Amazon ECR integrates with Amazon ECS, Amazon EKS, AWS Fargate, AWS Lambda, and the Docker CLI, allowing you to simplify your development and production workflows. You can easily push your container images to Amazon ECR using the Docker CLI from your development machine, and Amazon container orchestrators or compute can pull them directly for production deployments.', 'Amazon ECR is a Regional service and is designed to give you flexibility in how images are deployed. You have the ability to push/pull images to the same AWS Region where your Docker cluster runs for the best performance. You can also access Amazon ECR anywhere that Docker runs, such as desktops and on-premises environments. Pulling images between Regions or out to the internet will have additional latency and data transfer costs.', 'Amazon ECR automatically encrypts images at rest using Amazon S3 server-side encryption or AWS KMS encryption and transfers your container images over HTTPS. You can configure policies to manage permissions and control access to your images using AWS Identity and Access Management (IAM) users and roles without having to manage credentials directly on your EC2 instances.', 'To sign up for Amazon EC2, select the “Sign up for This Web Service” button on the Amazon EC2 detail page. You must have an AWS account to access this service; if you do not already have one, you will be prompted to create one when you begin the Amazon EC2 signup process. After signing up, please refer to the Amazon EC2 documentation, which includes our Getting Started Guide.', 'Until now, small developers did not have the capital to acquire massive compute resources and ensure they had the capacity they needed to handle unexpected spikes in load. Amazon EC2 helps developers use Amazon’s own benefits of massive scale with no upfront investment or performance compromises. Developers are now free to innovate knowing that no matter how successful their businesses become, it will be inexpensive and simple to ensure they have the compute capacity they need to meet their business requirements.', 'Yes. In order to maintain the quality of Amazon EC2 addresses for sending email, we enforce default limits on the amount of email that can be sent from EC2 accounts. If you wish to send larger amounts of email from EC2, you can apply to have these limits removed from your account by filling out this form.', 'How do I load and store my systems with Amazon EC2?', 'When you launch your Amazon EC2 instances you have the ability to store your root device data on Amazon EBS or the local instance store. By using Amazon EBS, data on the root device will persist independently from the lifetime of the instance. This enables you to stop and restart the instance at a subsequent time, which is similar to shutting down your laptop and restarting it when you need it again.', 'Amazon EC2 currently supports a variety of operating systems including: Amazon Linux, Ubuntu, Windows Server, Red Hat Enterprise Linux, SUSE Linux Enterprise Server, openSUSE Leap, Fedora, Fedora CoreOS, Debian, CentOS, Gentoo Linux, Oracle Linux, and FreeBSD. We are looking for ways to expand it to other platforms.', 'AWS Lambda lets you run code without provisioning or managing servers. You pay only for the compute time you consume - there is no charge when your code is not running. With Lambda, you can run code for virtually any type of application or backend service - all with zero administration. Just upload your code, and Lambda takes care of everything required to run and scale your code with high availability. You can set up your code to automatically trigger from other AWS services or call it directly from any web or mobile app.', 'Serverless computing allows you to build and run applications and services without thinking about servers. With serverless computing, your application still runs on servers, but all the server management is done by AWS. At the core of serverless computing is AWS Lambda, which lets you run your code without provisioning or managing servers.', 'Amazon EC2 offers customizable instance types and operating system settings for moving applications to the cloud. You manage capacity provisioning, health monitoring, and scalability design. AWS Elastic Beanstalk simplifies web application deployment and scaling while maintaining full control over underlying EC2 instances. AWS Lambda automates code execution in response to events, handling operational tasks like capacity provisioning, monitoring, and security, ensuring scalable and highly available applications without manual management.', "1. Create a Lambda function using the AWS Management Console or CLI. 2. Write your function code in the Lambda function editor. 3. Define the function's handler, specifying the entry point for execution. 4. Set up triggers such as S3 bucket events or API Gateway requests to invoke your Lambda function. 5. Configure IAM roles to grant necessary permissions for Lambda to interact with other AWS services. 6. Adjust advanced settings like memory allocation and timeout duration based on your application's requirements. 7. Test your Lambda function using the built-in testing functionality in the Lambda console. 8. Monitor and debug your Lambda function's execution using CloudWatch logs and metrics. 9. Deploy your Lambda function once testing and configuration are complete.", 'AWS Lambda natively supports Java, Go, PowerShell, Node.js, C#, Python, and Ruby code, and provides a Runtime API which allows you to use any additional programming languages to author your functions. Please read our documentation on using Node.js, Python, Java, Ruby, C#, Go, and PowerShell.', 'Each AWS Lambda function runs in its own isolated environment, with its own resources and file system view. AWS Lambda uses the same techniques as Amazon EC2 to provide security and separation at the infrastructure and execution levels.', 'AWS Lambda stores code in Amazon S3 and encrypts it at rest. AWS Lambda performs additional integrity checks while your code is in use.', 'US East (N. Virginia), US East (Ohio), US West (N. California), US West (Oregon), Canada (Central), Europe (Ireland), Europe (London), Europe (Frankfurt), Asia Pacific (Tokyo), Asia Pacific (Seoul), Asia Pacific (Singapore), Asia Pacific (Sydney), Asia Pacific (Mumbai), South America (São Paulo), Middle East (Bahrain), Africa (Cape Town)', 'Keeping functions stateless enables AWS Lambda to rapidly launch as many copies of the function as needed to scale to the rate of incoming events. While AWS Lambda’s programming model is stateless, your code can access stateful data by calling other web services, such as Amazon S3 or Amazon DynamoDB.', 'Lambda attempts to impose as few restrictions as possible on normal language and operating system activities, but there are a few activities that are disabled: Inbound network connections are blocked by AWS Lambda, and for outbound connections, only TCP/IP and UDP/IP sockets are supported, and ptrace (debugging) system calls are blocked. TCP port 25 traffic is also blocked as an anti-spam measure.',
# 'To change the quantity for items you have not yet added to the cart -  Once you click on the "Add to Cart" button and add the item to your shopping cart, enter the desired quantity in the "Quantity" dropdown option on the right side of the page.  To change the quantity for items already added to the cart -  Go to Cart, click on the quantity dropdown box to the right of the title and choose the desired quantity. The quantity number for the item and order amount will be updated automatically.  If the entered quantity is not available with us, you\'ll see an error message.', 'To begin ordering, you may visit the Amazon website on your desktop or mobile browser. If you are using an Android phone, you may download and install the Amazon Shopping app here to place an order.  If you are using an iPhone, you may download the Amazon shopping app here to place an order.  Steps to place an order:  Select the items which you want to order. Add those items to your “Shopping Cart”. After reviewing your shopping cart, click on “Proceed to Checkout”. You’ll be prompted to sign in to Amazon.in account, you can sign in using your mobile number or email address if you already have an account. If you’re a new customer, click on “I am a new customer” option on the sign in page to create a new account. Enter the address where you want to receive your order/select the Pickup store as per the availability by searching in the available criteria. If it a gift for someone/ if you want your order to be gift wrapped, then select gift-wrap option and include a gift message. Select the payment method, add the details and click on “Continue”. Review your order and click on “Place your Order” button and Pay to complete the transaction.', 'You can bulk order new products from Amazon Business. To order, select the following link:https://www.amazon.in/ab/bulk-order/  You can also access Bulk Ordering by hovering over your Account for Business menu and selecting Bulk Ordering from the drop-down menu. Enter the ISBNs or ASINs into the online form, or download a copy of the form to fill out and upload later.  Amazon Business offers the option to bulk buy products for business customers at no extra cost. You can also get an option of quantity discount.', 'This could be due to the following issues:  Check if there is a Payment decline. Please click here to know more about Payment issues. The item you have selected is out of stock. There is some technical or internet connectivity issue. Undeliverable to selected location/pincode.  Check if there is a quantity limit. Sometimes when FBA and seller fulfilled items are clubbed together', "Cash on Delivery is one of the payment methods for making purchases on Amazon.in. When you select Cash on Delivery as your payment method, you don't have to make any advance payment. You pay for your order only when you receive it. Click here to know more about Cash on Delivery.", 'You can choose to gift-wrap any item from your shopping cart as long as it is fulfilled by Amazon. To do this, check the This will be a gift box next to the item that you want gift-wrapped. Alternatively, check the box next to Ordering a gift? during checkout. The gift options show on the Delivery & Payment page.  Products eligible for this service can be gift wrapped for just ₹30.  Visit Gift Order to know more', 'You can add or update your payment methods by selecting the payments options section in Your Account. To manage payment methods, click here.', "Tell us what you'd like us to do with your parcel if you're not at home to receive it. Your delivery instructions can be accessed in multiple locations:  Your address book. The checkout process Your order confirmation page The progress tracker Select update delivery instructions under your delivery address, if this option is available. A window appears. update your delivery instructions and select Save instructions.  Note: We try to honour your delivery instructions whenever possible. However, we can't always guarantee that our carriers can meet these requests.", "You would not be able to change or modify the number of items once you have already placed an order. You can place another fresh order with the desired modifications. However, you can change your shipping preferences in Your Account at any time after placing your order as long as the order hasn't entered the shipping process yet.", 'If you have ordered a wrong item, you can cancel the order. In case, the order is already shipped and out for delivery, you can return the order. Click on Returns and Refund FAQ for more information.', "You can cancel items or orders by visiting the Your Orders section in Your Account.  To cancel orders that aren't dispatched yet:  Go to Your Orders. Select the item you want to cancel and click Cancel items. Provide reasons for cancellation (optional). Click on Cancel Checked Items. To cancel an order that has already been dispatched: Go to Your Orders. Select the Request cancellation option and proceed further. The item(s) will be returned to us for a refund (if the payment is already made). Note: In case you're still contacted for delivery, please refuse to accept it.", 'Follow the steps below to order an item again -  Go to Your Orders. Click on the Buy Again Tab. You will see a list of items you had previously purchased. Add to Cart the items you wish to purchase again. Go to the cart and follow the onscreen instruction to complete the order. Note: Items that are returned will not be displayed in the Buy Again tab.', 'The products ordered by you on Amazon.in are delivered in following ways:  Amazon fulfilled delivery Seller fulfilled delivery Delivery by third party carriers',     "Payments on Amazon.in may fail due to various reasons, such as incorrect card details, technical issues with your bank, or a blocked card for online transactions.",
#
#     "If you entered incorrect credit or debit card details, ensure your card name, number, CVV, expiry date, and billing address zip code (for American Express cards) are correct. Update your card details if necessary.",
#
#     "You can update your card details on Amazon.in by going to 'Your Account' > 'Payment options' and selecting 'Edit' next to the card you want to update.",
#
#     "If there is a technical problem with your bank during payment, please retry the transaction later or contact your bank for assistance.",
#
#     "Your card may be blocked from making online transactions by your bank. Contact your bank to resolve the issue or use a different card.",
#
#     "If you use a card that is not accepted by Amazon.in, consider using an accepted payment method listed on the Amazon website.",
#
#     "To save your credit or debit card details on Amazon.in as per new RBI guidelines, add your card details, select the 'Save card as per new RBI issued guidelines' checkbox, and make a successful payment with this card.",
#
#     "You may receive a payment pending message if we are waiting for payment verification from your bank, especially if paid through net banking. Contact your bank for immediate status updates.",
#
#     "If there is a problem contacting your bank or credit card issuer, delays in payment processing may occur. Check your email for updates from Amazon.",
#
#     "If your initial payment attempt is unsuccessful, your payment may remain incomplete or pending. Please follow the instructions in the email notification from Amazon to complete the payment or place a new order.",
#
# "All Prime Eligible items are Fulfilled by Amazon with added free fast delivery benefits, depending on the Prime membership plan you have chosen. Guaranteed One-Day, Two-Day, Same-Day, No-Rush, Morning, and Scheduled Delivery are only offered in select cities on eligible items Some items are not available for one-day and two-day delivery due to special packaging or handling requirements. Instead they receive free standard delivery. For more details, refer to Guaranteed Shipping Speeds and Delivery Charges. If you have chosen a Prime Lite membership plan, you will be not be able to access Prime Video on web browsers. see Amazon Prime Video Terms of Use for details. Amazon Prime benefits don't extend to all items, specially items belonging to the large appliance and furniture categories. The option to gift Prime membership is currently unavailable on Amazon.in. Amazon Prime isn't available for customers who purchase products for the purpose of resale or use Prime free delivery to deliver products to their customers or potential customers. We may change these benefits occasionally, as in our Amazon Prime Terms & Conditions. Prime digital benefits, including access to Prime Video, Prime Music, E-books & Gaming are not available with Prime Shopping Edition", "All Prime Eligible items are Fulfilled by Amazon with added free fast delivery benefits, depending on the Prime membership plan you have chosen. Guaranteed One-Day, Two-Day, Same-Day, No-Rush, Morning, and Scheduled Delivery are only offered in select cities on eligible items Some items are not available for one-day and two-day delivery due to special packaging or handling requirements. Instead they receive free standard delivery. For more details, refer to Guaranteed Shipping Speeds and Delivery Charges. If you have chosen a Prime Lite membership plan, you will be not be able to access Prime Video on web browsers. see Amazon Prime Video Terms of Use for details. Amazon Prime benefits don't extend to all items, specially items belonging to the large appliance and furniture categories. The option to gift Prime membership is currently unavailable on Amazon.in. Amazon Prime isn't available for customers who purchase products for the purpose of resale or use Prime free delivery to deliver products to their customers or potential customers. We may change these benefits occasionally, as in our Amazon Prime Terms & Conditions. Prime digital benefits, including access to Prime Video, Prime Music, E-books & Gaming are not available with Prime Shopping Edition", 'Prime Shopping Edition is a limited period annual Prime plan at a discounted price of ₹399/year. It provides customers access to: FREE unlimited Same-day/One-day delivery on eligible items, early access to shopping events, unlimited 5% cashback with Amazon Pay ICICI credit card, unlimited 5% cashback on all Uber rides with Amazon pay balance.', 'Go to Amazon Prime from your Amazon Shopping app or mobile browser, on an Android device. Customers eligible for Prime Shopping Edition, will see an option to sign up for the plan. Follow the onscreen instructions to sign up using an eligible payment method.  Note: Prime Shopping Edition is only available as an annual subscription. Prime Shopping Edition is currently not available on Desktop or iOS Amazon Prime Shopping edition is a limited period offering and not all customers will currently be able to access the plan. We will keep customers informed as and when you will be able to access to the plan.', "You can purchase Prime Shopping edition using any electronic payment method, including credit card, debit card, net banking, and Amazon Pay Balance, except Bajaj Finserv No Cost EMI.  Note: You can't use a credit or debit card issued outside India to pay for the membership fee for Prime. You can't pay for membership fee for Prime using a virtual card, virtual bank account or Amazon Prime voucher. Pay on Delivery option is not available for Prime Shopping edition", 'Auto-renew can be set up for Prime Shopping Edition. Prime Shopping Edition membership purchased using payment methods that support e-mandate, such as Credit / Debit cards and UPI will be auto-renewed. Prime Shopping Edition members who have not purchased the membership using an e-mandate supported payment method, can update their payment method to an e-mandate supported Credit/Debit Card or UPI by going to "Manage Prime membership" section on Amazon.in', 'You may choose to cancel your Prime Shopping Edition membership. However, refund eligibility will be based on past benefit usage and remaining duration in the plan. Upon cancellation, the subscription ends immediately and you will lose access to all benefits including shopping benefits, exclusive deals, prime early access and unlimited 5% cashback on Amazon pay ICICI card.', "Prime Shopping Edition customers can currently upgrade only to a full Prime plan, which offers all Prime benefits. If you want to upgrade to a full Prime plan, you can do so by visiting the 'Manage Prime membership' page on Amazon.in.  Please note, when you upgrade from Prime Shopping Edition to a full Prime membership, refund eligibility will be based on past benefit usage and remaining duration in the plan. You can then choose to upgrade to Prime at INR 1499/year.", "What are the delivery benefits of Amazon Prime for eligible items?",
#     "How can Prime members identify Prime eligible items on Amazon?",
#     "What are Prime Promo Codes?",
#     "Which partners/companies provide Prime Promo Codes today?",
#     "How do I activate my Promo code?",
#     "Are existing Prime members also eligible for this offer?",
#     "My PPC is not working; who should I contact?",
#     "I lost my PPC; who should I contact?",
#     "Is the Prime offer applicable to Business accounts?",
#     "Why is my payment failing?",
#     "What are the shipping benefits of Amazon Prime?",
# "How to signup for amazon prime",
# "How to End Your Amazon Prime Membership",
# "What is the price of Prime membership?",
# 'You may request returns for most items listed on Amazon.in that are explicitly identified as "returnable" on the product detail page and/or our policy and within the \'return window\' period. To know about the "non-returnable" categories and the specific return windows for categories eligible for return, please refer to the Amazon.in Returns policy.  Products that are physically damaged, defective, has missing parts, or are different from their description in the product details page are eligible for return', 'Your address and the item that you wish to return must be eligible for return. If the return is not eligible for Pickup, a Self-Return option will be provided. For more details, please check our Return Pick up and Self Ship Guidelines. Once the return is processed, you will, in accordance with Amazon.in Refund Policy, be issued a refund to your original payment method.', 'To initiate return, please visit the Gift Returns and enter the order number.  For detailed guidance on return process, refer to Return a Gift page.  For items eligible for refund as per return policy, you can also return the gift item in exchange for an Amazon Pay Gift Card, if the gift giver has sent a Gift Receipt to you. For guidance on returning a gift item using a gift receipt, please check Gift Receipts.  Certain items (Smartphones, TV, Refrigerators, Washing machine, Laptops and so on.) are eligible only for replacement as per our return policy and will be replaced after the issue is verified.', 'Gift cards once purchased cannot be cancelled or returned due to regulatory restrictions.  Please refer to Amazon Pay Gift Card page to know more about adding gift card balance to your account, redeeming a Gift card and restrictions.', 'If the item delivered is physically damaged/ defective or is different from their description on the product detail page, or has missing parts or accessories, it will be eligible for a free replacement as long as the exact item is available with the same seller.', 'Replacement cannot be delivered to a different address. We recommend to return the item for a refund and place a new order with the new address.', 'Product is not in working condition or has visible cut, crush, tear, broken parts, dents or scratches. Product seal is broken and/or there is a leakage. Product arrived with parts or accessories missing. Product arrived in a different size or color than what was ordered. Item does not match product description. Entire product missing, but box is not tampered. Shipping box is damaged or tampered. Products is expired.', 'You can return any item that is eligible for return and its return window has not expired. Visit Returns Policy to Learn more. Replacement or exchange of products is based on availability of products. There are different processes of return and replacement for products fulfilled by Amazon and products fulfilled by third-party (Marketplace) sellers. Check the product detail page to know about the seller of the product. Visit Return/Replacement FAQs to learn more', 'Go to Online Returns Center and follow the on-screen instructions. Visit How to schedule a Return to learn more Item will be picked up as per scheduled pickup date and time, which will be communicated via email and visible in Your Orders. If your address is covered by our courier partners, we’ll schedule a pick up for the package. If your address is not covered by our courier partners, you will need to return the item using any courier. Visit Return Pick-up and Self-Ship Guidelines to learn more. Go to Your Orders. Choose an item that you want to return or replace. Select Contact seller. You will be directed to the Seller Messaging Assistant. Select the appropriate option and start the conversation. If a seller fails to address your query in three business days, the Amazon A-to-z Guarantee is available to you.', 'Refund timeline will depend upon the mode of refund chosen by you. You can choose to receive the refund in your Amazon Pay Balance, original payment method or to your bank account.  If you had chosen “Pay on delivery ” while placing an order, you can choose refund to Amazon Pay Balance or Original payment method. For Amazon pay balance, refund will be credited to your Amazon Pay-Balance Account. For bank account refunds, please ensure that you add your bank account details where you wish to receive the refund. The refund should be processed via NEFT/IMPS and credited to your bank account by 5 business days from the date of refund initiation.', 'The time window for initiating a replacement is same as return window for that product category. For example, if the product has a return window of 30 days, a replacement will also have to be initiated within the same period of 30 days. Visit Replacement Policy to learn more.', 'Go to Your Orders. Select the product you want to replace. Click on Return/ Replace items. Choose a reason to replace. Continue and proceed as per on-screen instructions.', 'If you have received a damaged renewed product, you can initiate a return or replacement through the Orders page. You will be required to upload all sided images of the product received. Make sure the images are clicked with the product placed at least 8 inches from the camera. Along with the images, ensure to provide the invoice details. To know more about renewed products, click here.',     "A refund request will be initiated for your order when the returned package is received by Amazon. Refer to the table below for refund timelines after Amazon has initiated the refund request.",
#
#     "To check the status of your refund, click on the relevant order and select 'View Return/Refund Status' under 'Your Orders'.",
#
#     "For prepaid orders, the refund timelines are as follows: \n- Amazon Pay Balance: Up to 4 hours \n- Credit/Debit Card: Up to 5 Working Days \n- Net Banking (Credited to Bank Account): Up to 5 Working Days \n- UPI Linked Bank Account: Up to 5 Working Days",
#
#     "For Pay on Delivery orders, the refund timelines are as follows: \n- NEFT to Bank Account: Up to 5 Working Days \n- Amazon Pay Balance: Up to 4 hours \n- Paper Cheque: Up to 10 Working Days",
#
#     "If the refund is issued to your credit card account, your card provider may take additional time to update the statement. Please check your latest bank account statement to confirm the refund. It would be visible in the 'Unbilled Transactions' section in your credit card statement. If you do not see the 'Unbilled Transactions' section, please contact your card provider for the refund confirmation.",
#
#     "To add or update your bank account details for refunds: \n- Go to 'Your Orders' \n- Click on the order you want to return \n- Select 'Return or Replacement items' option \n- Select 'Refund to your bank account' \n- Select 'Choose a bank account' \n- Select 'Add a new bank account' and enter your bank account details",
#
#     "Any refund for a purchase made with one of our sellers needs to be initiated by the seller directly. The terms and conditions on refunds may vary from seller to seller. Additionally, to access the Buyer-Seller Messaging Service, log into your Amazon.in account and go to 'Message Center'. This service ensures that emails are filtered for spam and phishing attempts. We'll also keep a copy of all correspondence, which can be used to support any A-to-z Guarantee Claims you submit. If an email you send to the seller bounces, the seller can still view it in the Seller Communication Center. Sellers usually respond to your emails within two days.",
#
#     "All seller fulfilled orders are covered by our A-to-Z Guarantee. Our Guarantee offers reimbursement and protection for instances when a seller is unable to resolve a missing or incorrect order. You can read the Guarantee terms on our Help pages: http://www.amazon.in/guarantee",
#
#     "If you have returned an order and not paid even a single installment for the product, then on returning, we will credit your Amazon Pay Later limit with the total order value. If you've already made a payment, we will credit the amount back to your bank account, along with reinstating your credit limit. For more information on Amazon Pay Later, click here.",
#
#     "If you've paid an EMI, the amount paid as EMI will be refunded to your credit card and the loan will be cancelled. For more information on EMI page, click here. \n\nNote: \n- If you have used Bajaj Finserv (BFL Card): Contact Bajaj Finserv for details for EMI closure. You can also write to BFL on wecare@bajajfinserv.in \n- If you have used your credit card: Contact the card issuing bank for details on EMI closure. Your card issuing bank may charge nominal pre-closure charges in case you've already paid an EMI.",
#
#     "For FBA orders, the refund is initiated after receipt of the refund by Amazon. Please allow the specified time-frame for processing.",
#
#     "For seller fulfilled orders, the refund is initiated after the seller notifies Amazon of the receipt of the returned item. Please allow the specified time-frame for processing.",
#
#     "For prepaid orders using Amazon Pay Balance, refunds are processed within up to 4 hours of initiating the refund request.",
#
#     "For prepaid orders using Credit Card/Debit Card, refunds are processed within up to 5 working days.",
#
#     "For prepaid orders using Net Banking, refunds are credited to the bank account within up to 5 working days.",
#
#     "For prepaid orders using UPI linked bank account, refunds are credited to the bank account within up to 5 working days.",
#
#     "For pay on delivery orders using NEFT to Bank Account, refunds are credited to the bank account within up to 5 working days.",
#
#     "For pay on delivery orders using Amazon Pay Balance, refunds are processed within up to 4 hours of initiating the refund request.",
#
#     "For pay on delivery orders using Paper Check, refunds are processed and cleared locally in specific cities. Ensure to follow the instructions provided for check clearance.",
#
#     "To update your bank account details for receiving refunds, you can do so through the Returns Center on the Amazon mobile app or website. Follow the instructions under 'Refund to your bank account' and ensure the name on your Amazon account matches the name of the bank account holder.",
#
#     "For international customers, refunds should be processed through contacting Amazon's customer service team for assistance.",
#
#     "If the credit/debit card used for the order is no longer active or has expired, please contact Amazon for assistance in processing the refund to an alternate method.",
#
#     "For damaged/defective items in seller fulfilled orders, refunds are granted once the seller authorizes the refund after receiving the returned item. Please allow the specified time-frame for processing.",
#
#     "For shipping cost refunds of Fulfilled by Amazon and Prime eligible items, the return shipping charges and the cost of gift wrapping, if any, will be refunded by cheque. Refunds are processed accordingly.",
#
#     "To ensure a successful refund pickup, return the item in its original condition with the brand/manufacturer box and all accessories. Keep the MRP tag intact and include the user manual, warranty card, and all other documents that came with the item.",
#
#     "If the pickup is not completed on the scheduled day, it will be attempted again on the next day between 7AM and 10PM.",
#
#     "Some carriers may require a return label, which can be generated at the Returns Center on Amazon.",
#
#     "If the pickup is canceled due to missing or damaged items or accessories while in your possession, refunds will not be processed.",
#
#     "Amazon cannot reschedule a pickup for a third-party (marketplace) seller. The seller usually fulfills the return pickup process within 10 days. Contact the third-party seller directly for assistance.",
#
#     "Unfortunately, it is not possible to pick up the return from a new address in a different city. The pickup address must be within the city where the product was delivered.",
#
#     "If you have received a damaged, defective, or incorrect item, refer to the Damaged, Defective, or Wrong Item FAQ section for guidance on the next steps.",
#
#     "If you encounter any issues while requesting a refund pickup, refer to the Refund Pickup Issues Help page on Amazon for guidance and next steps.",
#
#     "If return pickup is not available, you may self-ship the item using any courier of your choice that has package tracking capabilities. You will need the following return documentation: a copy of the invoice highlighting the goods being returned inside the return package, a declaration of item details, value, and reason for return to be pasted on the package, and a return label containing the Amazon tracking barcode to be stuck on top of the package being returned."
# ]
#
#
# print(len(buyer_queries), len(buyer_responses))
def delete_rule(index, vector_id):
    index.delete(ids=[vector_id], namespace='aws')


def initialise_pinecone():
    load_dotenv()
    pinecone_api_key = os.environ.get('PINECONE_API_KEY')
    pc = Pinecone(api_key=pinecone_api_key)

    index_name = os.environ.get('PINECONE_INDEX_NAME')
    index_ = pc.Index(index_name)
    return index_


def insert_data(index_, queries, responses, namespace_pine):
    vectors_to_insert = [
        {
            "id": str(uuid.uuid4()),  # Generate a unique ID for each vector
            "values": get_embeddings(queries[i]),
            "metadata": {"queries": queries[i], "response": responses[i]}
        }
        for i in range(len(queries))
    ]
    index_.upsert(namespace=namespace_pine, vectors=vectors_to_insert)

    print(index_.describe_index_stats())


def preprocess_input(queries, responses):
    user_input = ""
    for query in queries:
        user_input+= query

    for response in responses:
        user_input += response

    return user_input


def query_pinecone(index_, user_query, queries, responses, namespace_pine):
    try:
        if queries:
            user_query += preprocess_input(queries=queries, responses=responses)
        # print(user_query)
    except Exception as e:
        print(f"Error in getting embeddings : {e}")
    query_vector = get_embeddings(user_query)
    query_results = index_.query(
        namespace=namespace_pine,
        vector=query_vector,
        top_k=7,
        include_values=False,
        include_distance=True,
        include_metadata=True,
    )

    queries = []
    responses = []

    matches = query_results['matches']
    for match in matches:
        if match['score'] > 0.7 and match['metadata']['response'] not in responses:
            responses.append(match['metadata']['response'])
            queries.append(match['metadata']['queries'])
    return queries, responses


# index = initialise_pinecone()
# insert_data(index, buyer_queries, buyer_responses, 'generals')

# query = "tell me about ec2 auto scaling and how it works?"
# queries_, response = query_pinecone(index, query, 'aws')
# print(queries_, response)
# vector_id = 'aa7fe3a5-e0b4-4e39-812f-dac1a6c62939'
# 6e0d4ac6-799f-4c58-9967-a16817e5e9c9
# delete_rule(index, vector_id)
